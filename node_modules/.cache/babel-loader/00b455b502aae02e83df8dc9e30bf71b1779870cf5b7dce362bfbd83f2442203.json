{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Aishawrya_PWE17\\\\EduConnect-Hub\\\\src\\\\components\\\\Events\\\\Events.js\",\n  _s = $RefreshSig$();\n// src/components/Events/Events.js\n\nimport React, { useState, useEffect } from 'react';\nimport { collection, addDoc, getDocs, doc, updateDoc, arrayUnion } from 'firebase/firestore';\nimport { db } from '../../firebaseConfig';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport './Events.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Events() {\n  _s();\n  const [events, setEvents] = useState([{\n    id: 'test1',\n    name: 'Test Event 1',\n    date: '2024-08-15',\n    joined: false\n  }, {\n    id: 'test2',\n    name: 'Test Event 2',\n    date: '2024-08-16',\n    joined: false\n  }]);\n  const [newEvent, setNewEvent] = useState({\n    name: '',\n    date: ''\n  });\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [userId] = useState('user123'); // Replace with actual user ID\n\n  useEffect(() => {\n    console.log('Events component mounted');\n    console.log('Events list:', events);\n  }, [events]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewEvent({\n      ...newEvent,\n      [name]: value\n    });\n  };\n  const handleAddEvent = async () => {\n    try {\n      const eventsCollection = collection(db, 'events');\n      await addDoc(eventsCollection, {\n        ...newEvent,\n        participants: []\n      });\n      setNewEvent({\n        name: '',\n        date: ''\n      });\n      const eventSnapshot = await getDocs(eventsCollection);\n      const eventList = eventSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setEvents(eventList);\n    } catch (error) {\n      console.error('Error creating event:', error);\n    }\n  };\n  const handleJoinEvent = async eventId => {\n    try {\n      console.log(`Joining event with ID: ${eventId}`);\n      const eventDoc = doc(db, 'events', eventId);\n      await updateDoc(eventDoc, {\n        participants: arrayUnion(userId)\n      });\n      const updatedEvents = events.map(event => event.id === eventId ? {\n        ...event,\n        joined: true\n      } : event);\n      setEvents(updatedEvents);\n    } catch (error) {\n      console.error('Error joining event:', error);\n    }\n  };\n  const filteredEvents = events.filter(event => event.date === selectedDate.toISOString().split('T')[0]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"events-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Events\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"event-creation\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: newEvent.name,\n        onChange: handleInputChange,\n        placeholder: \"Event Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"date\",\n        value: newEvent.date,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddEvent,\n        children: \"Add Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n      onChange: setSelectedDate,\n      value: selectedDate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"event-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Events on \", selectedDate.toDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: filteredEvents.length > 0 ? filteredEvents.map(event => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [event.name, \" - \", event.date]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleJoinEvent(event.id),\n            disabled: event.joined,\n            children: event.joined ? 'Joined' : 'Join Event'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, event.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"No events on this date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(Events, \"nND3lFuKRyfLDtVY9iLPoGVCjDs=\");\n_c = Events;\nexport default Events;\nvar _c;\n$RefreshReg$(_c, \"Events\");","map":{"version":3,"names":["React","useState","useEffect","collection","addDoc","getDocs","doc","updateDoc","arrayUnion","db","Calendar","jsxDEV","_jsxDEV","Events","_s","events","setEvents","id","name","date","joined","newEvent","setNewEvent","selectedDate","setSelectedDate","Date","userId","console","log","handleInputChange","e","value","target","handleAddEvent","eventsCollection","participants","eventSnapshot","eventList","docs","map","data","error","handleJoinEvent","eventId","eventDoc","updatedEvents","event","filteredEvents","filter","toISOString","split","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","onClick","toDateString","length","disabled","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Aishawrya_PWE17/EduConnect-Hub/src/components/Events/Events.js"],"sourcesContent":["// src/components/Events/Events.js\r\n\r\nimport React, {useState, useEffect } from 'react';\r\nimport { collection, addDoc, getDocs, doc, updateDoc, arrayUnion } from 'firebase/firestore';\r\nimport { db } from '../../firebaseConfig';\r\nimport Calendar from 'react-calendar';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport './Events.css';\r\n\r\nfunction Events() {\r\n  const [events, setEvents] = useState([\r\n    { id: 'test1', name: 'Test Event 1', date: '2024-08-15', joined: false },\r\n    { id: 'test2', name: 'Test Event 2', date: '2024-08-16', joined: false }\r\n  ]);\r\n  const [newEvent, setNewEvent] = useState({ name: '', date: '' });\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [userId] = useState('user123'); // Replace with actual user ID\r\n\r\n  useEffect(() => {\r\n    console.log('Events component mounted');\r\n    console.log('Events list:', events);\r\n  }, [events]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNewEvent({ ...newEvent, [name]: value });\r\n  };\r\n\r\n  const handleAddEvent = async () => {\r\n    try {\r\n      const eventsCollection = collection(db, 'events');\r\n      await addDoc(eventsCollection, { ...newEvent, participants: [] });\r\n      setNewEvent({ name: '', date: '' });\r\n\r\n      const eventSnapshot = await getDocs(eventsCollection);\r\n      const eventList = eventSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n      setEvents(eventList);\r\n    } catch (error) {\r\n      console.error('Error creating event:', error);\r\n    }\r\n  };\r\n\r\n  const handleJoinEvent = async (eventId) => {\r\n    try {\r\n      console.log(`Joining event with ID: ${eventId}`);\r\n      const eventDoc = doc(db, 'events', eventId);\r\n      await updateDoc(eventDoc, {\r\n        participants: arrayUnion(userId)\r\n      });\r\n\r\n      const updatedEvents = events.map(event => \r\n        event.id === eventId ? { ...event, joined: true } : event\r\n      );\r\n      setEvents(updatedEvents);\r\n    } catch (error) {\r\n      console.error('Error joining event:', error);\r\n    }\r\n  };\r\n\r\n  const filteredEvents = events.filter(event => event.date === selectedDate.toISOString().split('T')[0]);\r\n\r\n  return (\r\n    <div className=\"events-container\">\r\n      <h1>Events</h1>\r\n      <div className=\"event-creation\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={newEvent.name}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Event Name\"\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          name=\"date\"\r\n          value={newEvent.date}\r\n          onChange={handleInputChange}\r\n        />\r\n        <button onClick={handleAddEvent}>Add Event</button>\r\n      </div>\r\n      <Calendar \r\n        onChange={setSelectedDate}\r\n        value={selectedDate}\r\n      />\r\n      <div className=\"event-list\">\r\n        <h2>Events on {selectedDate.toDateString()}</h2>\r\n        <ul>\r\n          {filteredEvents.length > 0 ? filteredEvents.map((event) => (\r\n            <li key={event.id}>\r\n              <span>{event.name} - {event.date}</span>\r\n              <button onClick={() => handleJoinEvent(event.id)} disabled={event.joined}>\r\n                {event.joined ? 'Joined' : 'Join Event'}\r\n              </button>\r\n            </li>\r\n          )) : <li>No events on this date</li>}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Events;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}